<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Market Pulse Dashboard</title>

    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/typography@0.5.x/dist/typography.min.js"></script>

    <!-- Chart.js for visualizations -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>

    <!-- Google Fonts: Inter & Manrope -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Manrope:wght@400;700;800&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg-primary: #f7f8fc;
        --bg-secondary: #ffffff;
        --text-primary: #1e293b;
        --text-secondary: #64748b;
        --border-color: #e2e8f0;
        --accent-primary: #60a5fa; /* Tailwind blue-400 */
        --highlight-color: #eff6ff; /* Tailwind blue-50 */
        --font-sans: "Inter", sans-serif;
        --font-data: "Manrope", sans-serif;
      }
      /* Add .dark to html tag for theme persistence */
      html.dark {
        color-scheme: dark;
      }
      body.dark {
        --bg-primary: #111827; /* gray-900 */
        --bg-secondary: #1f2937; /* gray-800 */
        --text-primary: #f9fafb; /* gray-50 */
        --text-secondary: #9ca3af; /* gray-400 */
        --border-color: #374151; /* gray-700 */
        --highlight-color: #374151; /* gray-700 */
      }
      body {
        font-family: var(--font-sans);
        background-color: var(--bg-primary);
        color: var(--text-primary);
        transition: background-color 0.3s, color 0.3s;
      }
      .sidebar,
      .header,
      .kpi-card,
      .table-container,
      .date-picker,
      .dropdown-content,
      .modal-content {
        background-color: var(--bg-secondary);
        border-color: var(--border-color);
        transition: background-color 0.3s, border-color 0.3s;
      }
      .kpi-card:hover {
        transform: translateY(-4px);
        border-color: var(--accent-primary);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }
      .dark .kpi-card:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      }
      .kpi-card.active {
        border-color: var(--accent-primary);
        box-shadow: 0 0 0 2px var(--accent-primary);
      }
      #kpi-card-container:has(.kpi-card.active) .kpi-card:not(.active) {
        opacity: 0.6;
        transition: opacity 0.3s ease-in-out;
      }
      #kpi-card-container:has(.kpi-card.active) .kpi-card:not(.active):hover {
        opacity: 1;
      }
      .table-container::-webkit-scrollbar {
        width: 6px;
      }
      .table-container::-webkit-scrollbar-track {
        background: #f1f5f9;
      }
      .table-container::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 3px;
      }
      .table-container::-webkit-scrollbar-thumb:hover {
        background: #a0aec0;
      }
      .dark .table-container::-webkit-scrollbar-track {
        background: #1f2937;
      }
      .dark .table-container::-webkit-scrollbar-thumb {
        background: #4b5563;
      }
      .dark .table-container::-webkit-scrollbar-thumb:hover {
        background: #6b7280;
      }

      .brand-text {
        color: var(--accent-primary);
      }
      .font-data {
        font-family: var(--font-data);
        font-variant-numeric: tabular-nums;
      }
      tr.highlight {
        background-color: var(--highlight-color);
      }
      .control-btn {
        padding: 6px 12px;
        font-size: 12px;
        font-weight: 500;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        transition: all 0.2s;
      }
      .control-btn:hover {
        background-color: #f1f5f9;
        border-color: #94a3b8;
      }
      .dark .control-btn:hover {
        background-color: #374151;
        border-color: #6b7280;
      }
      .control-btn.active {
        background-color: var(--accent-primary);
        color: white;
        border-color: var(--accent-primary);
      }
      .dropdown {
        position: relative;
        display: inline-block;
      }
      .dropdown-content {
        display: none;
        position: absolute;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.1);
        z-index: 10;
        border-radius: 8px;
        margin-top: 8px;
        padding: 8px 0;
      }
      .dropdown-content.show {
        display: block;
      }
      .dropdown-content a,
      .dropdown-content button {
        color: var(--text-primary);
        padding: 10px 16px;
        text-decoration: none;
        display: block;
        font-size: 14px;
        width: 100%;
        text-align: left;
        background: none;
        border: none;
      }
      .dropdown-content a:hover,
      .dropdown-content button:hover {
        background-color: var(--highlight-color);
      }

      #loading-overlay {
        position: fixed;
        transition: opacity 0.5s ease-in-out;
      }
      .dark #loading-overlay {
        background-color: rgba(31, 41, 55, 0.7);
      }

      #dashboard-content-wrapper {
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
      }
      #data-display-wrapper.loading {
        opacity: 0.5;
        filter: blur(2px);
        transition: opacity 0.3s ease, filter 0.3s ease;
      }

      .dark .prose {
        --tw-prose-body: #d1d5db;
        --tw-prose-headings: #f9fafb;
        --tw-prose-lead: #a3a3a3;
        --tw-prose-links: #f9fafb;
        --tw-prose-bold: #f9fafb;
        --tw-prose-counters: #9ca3af;
        --tw-prose-bullets: #6b7280;
        --tw-prose-hr: #4b5563;
        --tw-prose-quotes: #f3f4f6;
        --tw-prose-quote-borders: #4b5563;
        --tw-prose-captions: #a3a3a3;
        --tw-prose-code: #f9fafb;
        --tw-prose-pre-code: #d1d5db;
        --tw-prose-pre-bg: #1f2937;
        --tw-prose-th-borders: #4b5563;
        --tw-prose-td-borders: #374151;
      }
    </style>
  </head>
  <body class="antialiased">
    <div class="flex flex-col lg:flex-row min-h-screen">
      <!-- Sidebar -->
      <aside class="sidebar w-full lg:w-64 lg:flex-shrink-0 flex flex-col">
        <div
          class="h-16 flex items-center px-6 border-b lg:border-b-0 border-r-0 lg:border-r"
        >
          <svg
            class="h-8 w-auto brand-text"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <line x1="12" y1="20" x2="12" y2="10"></line>
            <line x1="18" y1="20" x2="18" y2="4"></line>
            <line x1="6" y1="20" x2="6" y2="16"></line>
          </svg>
          <span class="ml-3 text-lg font-bold">Market Pulse</span>
        </div>
        <nav class="flex-1 px-4 py-4 space-y-1">
          <a
            href="/app/"
            class="flex items-center px-4 py-2.5 text-sm font-medium bg-blue-50 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300 rounded-lg"
          >
            <svg
              class="h-5 w-5 mr-3"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"
              ></path>
            </svg>
            Dashboard
          </a>

          <a
            href="/app/reports.html"
            class="flex items-center px-4 py-2.5 text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white rounded-lg"
          >
            <svg
              class="h-5 w-5 mr-3"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M3 3v18h18" />
              <path d="m19 9-5 5-4-4-3 3" />
            </svg>
            Reports
          </a>
          <a
            href="/admin/"
            class="flex items-center px-4 py-2.5 text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white rounded-lg"
          >
            <svg
              class="h-5 w-5 mr-3"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"
              ></path>
              <line x1="12" y1="9" x2="12" y2="13"></line>
              <line x1="12" y1="17" x2="12.01" y2="17"></line>
            </svg>
            Admin Panel
          </a>
        </nav>
      </aside>

      <!-- Main Content -->
      <div class="flex-1 flex flex-col">
        <header
          class="header h-auto md:h-16 flex flex-col md:flex-row items-start md:items-center justify-between p-4 md:px-8 flex-shrink-0 sticky top-0 z-20"
        >
          <h1 class="text-xl font-semibold mb-4 md:mb-0">Dashboard</h1>
          <div class="flex items-center flex-wrap gap-4 md:gap-6">
            <!-- THEME TOGGLE BUTTON -->
            <button
              id="theme-toggle"
              type="button"
              class="p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:focus:ring-gray-700"
            >
              <svg
                id="theme-toggle-dark-icon"
                class="hidden w-5 h-5"
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                ></path>
              </svg>
              <svg
                id="theme-toggle-light-icon"
                class="hidden w-5 h-5"
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm-.707 7.072l.707-.707a1 1 0 10-1.414-1.414l-.707.707a1 1 0 001.414 1.414zM3 11a1 1 0 100-2H2a1 1 0 100 2h1z"
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                ></path>
              </svg>
            </button>
            <div class="flex items-center gap-2">
              <div class="relative flex h-3 w-3">
                <span
                  class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"
                ></span>
                <span
                  class="relative inline-flex rounded-full h-3 w-3 bg-green-500"
                ></span>
              </div>
              <p
                id="data-timestamp"
                class="text-xs text-gray-500 dark:text-gray-400"
              ></p>
            </div>
            <div class="dropdown">
              <button
                id="hotel-btn"
                class="flex items-center gap-2 text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="h-5 w-5 text-gray-400"
                >
                  <path
                    d="M3 9V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H9l-4-4Z"
                  />
                  <path d="M8 18v-2a2 2 0 0 0-2-2H4" />
                  <path d="M12 12h.01" />
                  <path d="M16 12h.01" />
                  <path d="M12 16h.01" />
                  <path d="M16 16h.01" />
                  <path d="M8 12h.01" />
                </svg>
                <span id="current-property-name">Rockenue Partner Account</span>
                <svg
                  class="h-4 w-4 text-gray-400"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                    clip-rule="evenodd"
                  />
                </svg>
              </button>
              <div id="hotel-dropdown" class="dropdown-content">
                <!-- Dynamic content -->
              </div>
            </div>
            <div class="dropdown">
              <button id="user-btn" class="flex items-center gap-2">
                <img
                  class="h-9 w-9 rounded-full object-cover"
                  src="https://placehold.co/100x100/E2E8F0/4A5568?text=KM"
                  alt="Your avatar"
                />
                <div>
                  <p class="text-sm font-semibold">Karol Marcu</p>
                  <p class="text-xs text-gray-400">Administrator</p>
                </div>
                <svg
                  class="h-4 w-4 text-gray-400"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                    clip-rule="evenodd"
                  />
                </svg>
              </button>
              <div id="user-dropdown" class="dropdown-content">
                <a href="#" class="opacity-50 cursor-not-allowed">Profile</a>
                <hr class="my-1" />
                <a href="mailto:support@market-pulse.io">Support</a>
                <button data-modal-target="legal-modal">Legal</button>
                <hr class="my-1" />
                <button id="logout-btn">Log Out</button>
              </div>
            </div>
          </div>
        </header>

        <main class="flex-1 p-4 md:p-8 relative">
          <div
            id="error-notification"
            class="hidden fixed top-20 right-8 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg z-50 flex items-center transition-transform duration-300 transform translate-x-full"
          >
            <svg
              class="fill-current h-6 w-6 text-red-500 mr-4"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 20 20"
            >
              <path
                d="M12.432 0c1.34 0 2.01 1.29 1.207 2.468L7.12 12.03a.998.998 0 01-1.414.001L.293 6.468A1.5 1.5 0 012.414 4.5L6.414 8.5l4.293-4.293a1 1 0 011.414 0z"
              />
            </svg>
            <span id="error-message" class="font-medium"></span>
            <button
              id="close-error-btn"
              class="ml-6 font-bold text-xl text-red-700 hover:text-red-900"
            >
              &times;
            </button>
          </div>

          <div
            id="loading-overlay"
            class="absolute inset-0 bg-white/70 z-30 flex items-center justify-center"
          >
            <div
              class="w-10 h-10 border-2 border-slate-400 border-t-slate-700 rounded-full animate-spin"
            ></div>
          </div>

          <div id="dashboard-content-wrapper">
            <div
              class="bg-[var(--bg-secondary)] p-4 rounded-xl border mb-8 flex flex-col gap-4"
            >
              <div class="flex flex-wrap items-center gap-4">
                <div class="flex items-center gap-2">
                  <svg
                    class="h-5 w-5 text-gray-400"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <rect
                      x="3"
                      y="4"
                      width="18"
                      height="18"
                      rx="2"
                      ry="2"
                    ></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                  </svg>
                  <span class="font-semibold text-sm">Date Range:</span>
                </div>
                <div class="flex items-center gap-3 ml-auto">
                  <input
                    type="date"
                    id="start-date"
                    class="date-picker text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2"
                  />
                  <span class="text-gray-400">-</span>
                  <input
                    type="date"
                    id="end-date"
                    class="date-picker text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2"
                  />
                  <button
                    id="run-btn"
                    class="px-5 py-2 text-sm font-semibold text-white bg-[var(--accent-primary)] rounded-lg hover:bg-blue-500 transition flex items-center justify-center"
                  >
                    Run
                  </button>
                </div>
              </div>
              <div
                id="control-buttons-wrapper"
                class="flex flex-wrap items-center gap-4 border-t border-dashed pt-4 mt-2"
              >
                <div class="flex items-center gap-2">
                  <span class="text-xs font-bold text-gray-400 uppercase mr-2"
                    >Display:</span
                  >
                  <button class="control-btn" data-granularity-toggle="daily">
                    Daily
                  </button>
                  <button class="control-btn" data-granularity-toggle="weekly">
                    Weekly
                  </button>
                  <button class="control-btn" data-granularity-toggle="monthly">
                    Monthly
                  </button>
                </div>
                <div class="flex items-center gap-2 ml-auto">
                  <span class="text-xs font-bold text-gray-400 uppercase mr-2"
                    >Presets:</span
                  >
                  <button class="control-btn" data-preset="current-month">
                    Current Month
                  </button>
                  <button class="control-btn" data-preset="next-month">
                    Next Month
                  </button>
                  <button class="control-btn" data-preset="this-year">
                    This Year
                  </button>
                </div>
              </div>
            </div>

            <div id="data-display-wrapper">
              <div
                id="kpi-card-container"
                class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"
              >
                <div
                  id="kpi-occupancy"
                  class="kpi-card p-5 rounded-lg"
                  data-metric="occupancy"
                >
                  <div class="flex justify-between items-start">
                    <p class="text-sm font-medium">Occupancy</p>
                    <p
                      id="kpi-occupancy-delta"
                      class="text-sm font-bold font-data"
                    ></p>
                  </div>
                  <div class="mt-2 grid grid-cols-2 gap-4 items-end">
                    <div>
                      <p class="text-xs text-gray-400">Your Hotel</p>
                      <p
                        id="kpi-occupancy-your"
                        class="text-3xl font-extrabold font-data"
                      ></p>
                    </div>
                    <div class="text-right">
                      <p class="text-xs text-gray-400">Market</p>
                      <p
                        id="kpi-occupancy-market"
                        class="text-2xl font-bold font-data"
                      ></p>
                    </div>
                  </div>
                </div>
                <div
                  id="kpi-adr"
                  class="kpi-card p-5 rounded-lg"
                  data-metric="adr"
                >
                  <div class="flex justify-between items-start">
                    <p class="text-sm font-medium">ADR</p>
                    <p
                      id="kpi-adr-delta"
                      class="text-sm font-bold font-data"
                    ></p>
                  </div>
                  <div class="mt-2 grid grid-cols-2 gap-4 items-end">
                    <div>
                      <p class="text-xs text-gray-400">Your Hotel</p>
                      <p
                        id="kpi-adr-your"
                        class="text-3xl font-extrabold font-data"
                      ></p>
                    </div>
                    <div class="text-right">
                      <p class="text-xs text-gray-400">Market</p>
                      <p
                        id="kpi-adr-market"
                        class="text-2xl font-bold font-data"
                      ></p>
                    </div>
                  </div>
                </div>
                <div
                  id="kpi-revpar"
                  class="kpi-card p-5 rounded-lg"
                  data-metric="revpar"
                >
                  <div class="flex justify-between items-start">
                    <p class="text-sm font-medium">RevPAR</p>
                    <p
                      id="kpi-revpar-delta"
                      class="text-sm font-bold font-data"
                    ></p>
                  </div>
                  <div class="mt-2 grid grid-cols-2 gap-4 items-end">
                    <div>
                      <p class="text-xs text-gray-400">Your Hotel</p>
                      <p
                        id="kpi-revpar-your"
                        class="text-3xl font-extrabold font-data"
                      ></p>
                    </div>
                    <div class="text-right">
                      <p class="text-xs text-gray-400">Market</p>
                      <p
                        id="kpi-revpar-market"
                        class="text-2xl font-bold font-data"
                      ></p>
                    </div>
                  </div>
                </div>
              </div>

              <div
                class="relative bg-[var(--bg-secondary)] p-6 rounded-xl border mb-8"
              >
                <h2
                  id="comparison-chart-title"
                  class="text-xl font-semibold mb-4"
                ></h2>
                <div id="chart-container" class="h-80">
                  <canvas id="comparisonChart"></canvas>
                </div>
                <div
                  id="no-data-overlay"
                  class="hidden absolute inset-0 flex items-center justify-center bg-white/80 rounded-xl"
                >
                  <p class="text-lg font-semibold text-gray-500">
                    No data available for the selected period.
                  </p>
                </div>
              </div>

              <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div>
                  <div class="flex justify-between items-center mb-4">
                    <h2
                      id="your-hotel-table-title"
                      class="text-xl font-semibold"
                    ></h2>
                  </div>
                  <p
                    id="your-hotel-subtitle"
                    class="text-sm text-gray-500 dark:text-gray-400 -mt-2 mb-4"
                  ></p>
                  <div class="table-container rounded-lg overflow-x-auto">
                    <table class="w-full text-sm">
                      <thead
                        class="bg-gray-50 dark:bg-gray-700/50 sticky top-0"
                      >
                        <tr id="your-hotel-table-header" class="text-left"></tr>
                      </thead>
                      <tbody id="yourHotelTableBody" class="divide-y"></tbody>
                    </table>
                  </div>
                </div>
                <div>
                  <h2 class="text-xl font-semibold mb-4">The Market</h2>
                  <p
                    id="market-subtitle"
                    class="text-sm text-gray-500 dark:text-gray-400 -mt-2 mb-4"
                  ></p>
                  <div class="table-container rounded-lg overflow-x-auto">
                    <table class="w-full text-sm">
                      <thead
                        class="bg-gray-50 dark:bg-gray-700/50 sticky top-0"
                      >
                        <tr id="market-table-header" class="text-left"></tr>
                      </thead>
                      <tbody id="marketTableBody" class="divide-y"></tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- Legal Modal -->
    <div
      id="legal-modal"
      class="fixed inset-0 z-50 hidden items-center justify-center bg-black/60 backdrop-blur-sm"
    >
      <div
        class="modal-content rounded-lg shadow-xl p-8 max-w-4xl w-full m-4 max-h-[80vh] overflow-y-auto"
      >
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-2xl font-bold">Legal Information</h2>
          <button
            data-modal-close="legal-modal"
            class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              ></path>
            </svg>
          </button>
        </div>

        <div class="space-y-10">
          <!-- Terms of Service Section -->
          <div>
            <h3 class="text-xl font-semibold border-b pb-2 mb-4">
              Terms of Service
            </h3>
            <div
              class="prose prose-slate dark:prose-invert max-w-none space-y-4"
            >
              <p><strong>Last Updated: July 9, 2025</strong></p>
              <div>
                <h4>Introduction</h4>
                <p>
                  Welcome to Market Pulse. These Terms of Service ("Terms")
                  govern your access to and use of the services, websites, and
                  applications offered by Market Pulse ("Service"), operated by
                  <strong>ROCKENUE INTERNATIONAL GROUP</strong>.
                </p>
              </div>
              <div>
                <h4>1. Fees and Changes to Service</h4>
                <p>
                  The core features of the Service are currently provided to you
                  free of charge. We reserve the right to introduce fees for the
                  Service or for new premium features in the future. We will
                  provide you with at least
                  <strong>30 days' advance notice</strong> of any such changes.
                </p>
              </div>
              <div>
                <h4>2. Intellectual Property and Data Rights</h4>
                <p>
                  To operate the Service, you grant us a worldwide, perpetual,
                  irrevocable, royalty-free license to use your hotel's
                  performance data in an
                  <strong>anonymized and aggregated</strong> form. This data may
                  be used to create market analytics, reports, and other
                  data-driven products which may be part of commercial
                  offerings. Your hotel's name or any other confidential
                  information will never be disclosed.
                </p>
              </div>
              <div>
                <h4>3. Termination</h4>
                <p>
                  You may terminate these Terms at any time by disconnecting the
                  Market Pulse application from within your PMS settings. We may
                  terminate your access if you breach these Terms, especially by
                  attempting to de-anonymize data or misuse the service.
                </p>
              </div>
              <div>
                <h4>4. Data Withdrawal</h4>
                <p>
                  You may request the removal of your hotel's historical
                  performance data from our active databases by emailing our
                  support team. Please note that data already included in
                  historical, anonymized, and aggregated market sets cannot be
                  retroactively removed.
                </p>
              </div>
              <div>
                <h4>5. Governing Law</h4>
                <p>
                  These Terms shall be governed by the laws of the
                  <strong>United Arab Emirates</strong>.
                </p>
              </div>
            </div>
          </div>

          <!-- Privacy Policy Section -->
          <div>
            <h3 class="text-xl font-semibold border-b pb-2 mb-4">
              Privacy Policy
            </h3>
            <div
              class="prose prose-slate dark:prose-invert max-w-none space-y-4"
            >
              <p><strong>Last Updated: July 9, 2025</strong></p>
              <div>
                <h4>1. Information We Collect</h4>
                <p>
                  We collect Personal Data (name, email), Hotel Performance Data
                  (read-only metrics like ADR, Occupancy), and Usage Data (via
                  essential session cookies and Google Analytics).
                </p>
              </div>
              <div>
                <h4>2. How We Use Your Information</h4>
                <p>
                  We use your data to power your dashboard, create anonymized
                  market benchmarks, manage your account, and improve the
                  service.
                </p>
              </div>
              <div>
                <h4>3. Data Retention</h4>
                <p>
                  We retain your Personal Data for 1 year after account
                  termination. Anonymized hotel data is retained indefinitely
                  for market analysis.
                </p>
              </div>
              <div>
                <h4>4. Contact Us</h4>
                <p>
                  If you have any questions, please contact us by email at:
                  <strong>support@market-pulse.io</strong>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="/app/dashboard.mjs" type="module"></script>
  </body>
</html>
